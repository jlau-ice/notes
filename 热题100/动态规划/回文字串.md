[题目地址](https://leetcode.cn/problems/palindromic-substrings/)

一个长度为 n 的字符串 有多少个字串 ？ n(n + 1) / 2

也就是 n * n 的矩阵对角线以及右上部分。

个数就是 (上底 + 下底) * 高 / 2

每个数组元素就是一个`[i,j]`的字符串。

一开始初始化对角线 为true。
再推上面的。
`s[i] != s[j] -> dp[i][j] = false`
`s[i] == s[j] -> dp[i+1][j-1] 但是会越界。`
如果 j -i + 1 <= 3 就是true 长度为3，且头尾相等就是回文啊。
超过就 dp[i+1][j-1]

```java
class Solution {
    public int countSubstrings(String s) {
        boolean[][] dp = new boolean[s.length()][s.length()];
        int res = 0;
        for (int i = s.length() - 1; i >= 0; i--) {
            for (int j = s.length() - 1; j >= i; j--) {
                if (i == j) {
                    dp[i][j] = true;
                } else if (s.charAt(i) == s.charAt(j)) {
                    if (j - i + 1 <= 3) {
                        dp[i][j] = true;
                    } else {
                        dp[i][j] = dp[i + 1][j - 1];
                    }
                } else {
                    dp[i][j] = false;
                }
                if (dp[i][j]) {
                    res++;
                }
            }
        }
        return res;
    }
}
```