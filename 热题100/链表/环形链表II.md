## ç¯å½¢é“¾è¡¨II
[é¢˜ç›®åœ°å€](https://leetcode.cn/problems/linked-list-cycle-ii)
è¿™é¢˜ä½¿ç”¨å“ˆå¸Œè¡¨å¾ˆå®¹æ˜“åšå‡ºæ¥ï¼Œä½†æ˜¯æ—¶é—´å¤æ‚åº¦å°±æ˜¯`O(N)`ï¼Œæœ‰æ²¡æœ‰åŠæ³•ç”¨æ—¶é—´æŒ‰å¤æ‚åº¦ä¸º`O(1)`çš„åšæ³•å‘¢ï¼Ÿæœ‰çš„æœ‰çš„å…„å¼Ÿã€‚`I`ä¸­ç”¨åŒæŒ‡é’ˆå¯ä»¥åšåˆ°ç©ºé—´å¤æ‚åº¦ä¸º`O(1)`è¿™é‡Œå¯ä»¥å‚è€ƒåŒæŒ‡é’ˆçš„åšæ³•ã€‚
å¦‚ä½•ç†è§£å‘¢ï¼Ÿ
å®šä¹‰ä¸¤ä¸ªæŒ‡é’ˆ`fast`,`slow`ã€‚`fast`æ¯æ¬¡ç§»åŠ¨ä¸¤æ­¥ï¼Œ`slow`æ¯æ¬¡ç§»åŠ¨ä¸€æ­¥ã€‚è¿™æ ·å¦‚æœé“¾è¡¨æœ‰ç¯æœ€åä»–ä»¬ä¸€å®šä¼šåœ¨ç¯ä¸­ç›¸é‡ã€‚åˆ¤æ–­`fast.next`æ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœæ²¡æœ‰ç¯å°±é€€å‡ºå¾ªç¯äº†ã€‚
åœ¨ç¯ä¸­ç›¸é‡ï¼Œæ­¤æ—¶faståœ¨ç¯ä¸­è·‘äº†Nåœˆäº†ï¼Œæ‰€ä»¥ä¸‹é¢ç­‰å¼æˆç«‹

ä¸€å¼€å§‹ä»¤å¿«æŒ‡é’ˆ `fast` å’Œæ…¢æŒ‡é’ˆ `slow` éƒ½ä½äºå¤´éƒ¨ï¼Œç„¶åï¼š

- `fast` æ¯æ¬¡èµ° **2 æ­¥**
    
- `slow` æ¯æ¬¡èµ° **1 æ­¥**

å› æ­¤ï¼Œ**fast èµ°è¿‡çš„æ­¥æ•°å§‹ç»ˆæ˜¯ slow çš„ 2 å€**ã€‚

---

### è®¾å®šå˜é‡

- ä»å¤´åˆ°ç¯å…¥å£çš„è·ç¦»ï¼š**a**
    
- ç¯çš„é•¿åº¦ï¼š**b**
    
- ç›¸é‡æ—¶ï¼Œslow åœ¨ç¯å†…èµ°äº†ï¼š**x**
    
- fast æ¯” slow å¤šèµ°äº†ï¼š**n åœˆï¼ˆn ä¸ºæ­£æ•´æ•°ï¼‰**

---
### è·ç¦»å…³ç³»

- slow èµ°è¿‡çš„è·ç¦»ï¼š  
    `a + x`

- fast èµ°è¿‡çš„è·ç¦»ï¼š  
    `a + x + n * b`
 
ç”±äº fast å§‹ç»ˆæ˜¯ slow çš„ä¸¤å€ï¼Œå› æ­¤æœ‰ï¼š

$$
2(a+x)=a+x+nb2(a + x) = a + x + nb2(a+x)=a+x+nb
$$
åŒ–ç®€å¾—åˆ°ï¼š
$$
a+x=nba + x = nba+x=nb
$$
---

### å…³é”®ç»“è®º

> **æ…¢æŒ‡é’ˆå†å¾€å‰èµ° a æ­¥ï¼Œå°±æ­£å¥½å›åˆ°ç¯å…¥å£**

å› ä¸ºï¼š

- `nb` è¡¨ç¤ºç»•ç¯æ•´æ•´æ•°åœˆå›å…¥å£
    
- å½“å‰ slow åœ¨ç¯å†…ä¸º `x`
    
- æ‰€ä»¥å·®å€¼ `nb - x = a`
    
- åˆšå¥½æ˜¯ä»ç›¸é‡ç‚¹å›åˆ°å…¥å£çš„è·ç¦»  
    ğŸ‘‰ **slow å†èµ° a æ­¥å¿…åˆ°å…¥å£**


```java
/**
 * Definition for singly-linked list.
 * class ListNode {
 *     int val;
 *     ListNode next;
 *     ListNode(int x) {
 *         val = x;
 *         next = null;
 *     }
 * }
 */
public class Solution {
    public ListNode detectCycle(ListNode head) {
        if (head == null || head.next == null) {
            return null;
        }
        ListNode fast = head;
        ListNode slow = head;
        while (fast != null && fast.next != null) {
            fast = fast.next.next;
            slow = slow.next;
            if (slow == fast) {
                while (head != slow) {
                    head = head.next;
                    slow = slow.next;
                }
                return head;
            }
        }
        return null;
    }
}
```